<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Random Recipe Generator</title>
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container py-5">
    <h1 class="text-center mb-4">üçΩ Random Recipe Generator</h1>

    <div id="recipe-card" class="card shadow-lg">
      <img id="meal-thumb" class="card-img-top" alt="Meal Image">
      <div class="card-body">
        <h3 id="meal-name" class="card-title"></h3>
        <p class="text-muted"><span id="meal-category"></span> | <span id="meal-area"></span></p>
        <h5>Ingredients:</h5>
        <ul id="meal-ingredients" class="list-group list-group-flush mb-3"></ul>
        <h5>Instructions:</h5>
        <p id="meal-instructions"></p>
        <a id="meal-video" href="#" target="_blank" class="btn btn-danger d-none">‚ñ∂ Watch Video</a>
      </div>
    </div>

    <div class="text-center mt-4">
      <button id="new-recipe-btn" class="btn btn-primary btn-lg">Get Another Recipe</button>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const API_URL = "https://www.themealdb.com/api/json/v1/1/random.php";

    async function fetchRecipe() {
      try {
        const res = await fetch(API_URL);
        const data = await res.json();
        const meal = data.meals[0];
        displayRecipe(meal);
      } catch (err) {
        console.error("Error fetching recipe:", err);
      }
    }

    function displayRecipe(meal) {
      document.getElementById("meal-thumb").src = meal.strMealThumb;
      document.getElementById("meal-name").textContent = meal.strMeal;
      document.getElementById("meal-category").textContent = meal.strCategory;
      document.getElementById("meal-area").textContent = meal.strArea;
      document.getElementById("meal-instructions").textContent = meal.strInstructions;

      // Ingredients + Measures
      const ingredientsList = document.getElementById("meal-ingredients");
      ingredientsList.innerHTML = "";
      for (let i = 1; i <= 20; i++) {
        const ingredient = meal[`strIngredient${i}`];
        const measure = meal[`strMeasure${i}`];
        if (ingredient && ingredient.trim() !== "") {
          const li = document.createElement("li");
          li.className = "list-group-item";
          li.textContent = `${measure} ${ingredient}`;
          ingredientsList.appendChild(li);
        }
      }

      // Video link
      const videoBtn = document.getElementById("meal-video");
      if (meal.strYoutube) {
        videoBtn.href = meal.strYoutube;
        videoBtn.classList.remove("d-none");
      } else {
        videoBtn.classList.add("d-none");
      }
    }

    // Event listener for button
    document.getElementById("new-recipe-btn").addEventListener("click", fetchRecipe);

    // Fetch recipe on page load
    fetchRecipe();
  </script>
</body>
</html>
